- content_for 'popups' do
  #add-part-popup.popup{:style => "display: none"}
    #busy.busy{:style => "display: none"}= image 'spinner.gif'
    %h3 Add Part
    - remote_form_for([:admin, PagePart.new], :update => "pages", :position => :bottom, :loading => 'part_loading()', :complete => 'part_added()', :condition => 'valid_part_name()') do |f|
      %div
        = hidden_field_tag 'index', @page.parts.count + 1, :id => 'part-index-field'
        = f.text_field :name, :id => 'part-name-field', :maxlength => 100
        = submit_tag "Add Part", :id => 'add-part-button'
      %p
        = link_to_function 'Close', "$(this).up('.popup').hide()", :class => 'close-link'

  #tag-reference-popup.popup{ :style => "display:none;" }
    %div{ :style => "float:right" }
      %label{:for=> 'search-tag-reference'} Search Tags:
      %input#search-tag-reference{ :type => "text" }/
    %h3
      Available Tags for
      %span#page-type
    #tag-reference
    %p
      = link_to 'Close', '#', :class => 'close'

  #filter-reference-popup.popup{ :style => "display:none;" }
    %h3
      %span#filter-type
      Reference
    #filter-reference
    %p
      = link_to_function 'Close', "Element.hide('filter-reference-popup')", :class => 'close-link'
  = render_region :popups